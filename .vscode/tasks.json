{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "CMake: Configure Silently on Open",
            "hide": true,
            "runOptions": {
                "runOn": "folderOpen"
            },
            "dependsOrder": "sequence",
            "dependsOn": [
                "VSCode Utility: If build Folder Exists",
                "CMake: Configure",
                "VSCode Utility: Toggle Terminal Twice"
            ],
            "problemMatcher": []
        },
        {
            "label": "CMake: Select a Kit and Configure Silently on Open",
            "hide": true,
            "runOptions": {
                "runOn": "folderOpen"
            },
            "dependsOrder": "sequence",
            "dependsOn": [
                "VSCode Utility: If build Folder is NOT Exists",
                "CMake: Select a Kit",
                "CMake: Configure",
                "VSCode Utility: Toggle Terminal Twice"
            ],
            "problemMatcher": []
        },
        {
            "label": "CMake: Select a Kit",
            "hide": true,
            "command": "${command:multiCommand.cmake_buildKit}",
            "problemMatcher": []
        },
        {
            "label": "CMake: Configure",
            "type": "cmake",
            "command": "configure",
            "targets": [
                "all"
            ],
            "problemMatcher": {
                "base": "$gcc",
                "fileLocation": [
                    "absolute"
                ]
            },
            "group": {
                "kind": "build"
            },
            "dependsOrder": "sequence",
            "dependsOn": "Conan: Install"
        },
        {
            "label": "CMake: Build",
            "type": "cmake",
            "command": "build",
            "targets": [
                "all"
            ],
            "dependsOrder": "sequence",
            "dependsOn": "CMake: Configure",
            "problemMatcher": {
                "base": "$gcc",
                "fileLocation": [
                    "absolute"
                ]
            },
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "CMake: Clean",
            "type": "cmake",
            "command": "clean",
            "targets": [
                "all"
            ],
            "dependsOrder": "sequence",
            "dependsOn": [
                "Valgrind: Clean Memcheck",
                "Valgrind: Clean Callgrind",
                "Valgrind: Clean Cachegrind"
            ],
            "problemMatcher": []
        },
        {
            "label": "Conan: Install",
            "command": "conan",
            "args": [
                "install",
                "build/${command:cmake.buildType}/conanfile.txt",
                "--build=missing",
                "--settings",
                "build_type=${command:cmake.buildType}"
            ],
            "dependsOrder": "sequence",
            "dependsOn": "Conan: Setup",
            "problemMatcher": []
        },
        {
            "label": "Conan: Setup",
            "hide": true,
            "linux": {
                "command": "cp",
                "args": [
                    "conanfile.txt",
                    "${workspaceFolder}/build/${command:cmake.buildType}/"
                ]
            },
            "dependsOrder": "sequence",
            "dependsOn": "Create Build Directory",
            "problemMatcher": []
        },
        {
            "label": "Create Build Directory",
            "hide": true,
            "linux": {
                "command": "mkdir",
                "args": [
                    "-p",
                    "${workspaceFolder}/build/${command:cmake.buildType}"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Show Memcheck Report",
            "dependsOrder": "sequence",
            "dependsOn": [
                "VSCode Utility: Focus on First Group",
                "Valgrind: Open Memcheck Report File",
                "VSCode Utility: Wait for Report File",
                "VSCode Utility: Toggle Terminal Twice",
                "VSCode Utility: Wait for Report File",
                "VSCode Utility: Scroll at the Last Line",
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Show Cachegrind Report",
            "dependsOrder": "sequence",
            "dependsOn": [
                "VSCode Utility: Focus on First Group",
                "Valgrind: Open Cachegrind Report File",
                "VSCode Utility: Wait for Report File",
                "VSCode Utility: Toggle Terminal Twice",
                "VSCode Utility: Wait for Report File",
                "VSCode Utility: Scroll at the First Line",
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Show Callgrind Report",
            "command": "${command:workbench.action.closeActiveEditor}",
            "dependsOrder": "sequence",
            "dependsOn": [
                "VSCode Utility: Focus on First Group",
                "Valgrind: Open Callgrind Report File",
                "VSCode Utility: Wait for Report File",
                "VSCode Utility: Toggle Terminal Twice",
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Open Memcheck Report File",
            "hide": true,
            "command": "code",
            "args": [
                "-r",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.valgrind"
            ],
            "dependsOrder": "sequence",
            "dependsOn": "Valgrind: Make Memcheck Report",
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Open Callgrind Report File",
            "hide": true,
            "command": "code",
            "args": [
                "-r",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind.dot"
            ],
            "dependsOrder": "sequence",
            "dependsOn": "Valgrind: Convert Callgrind Report To Chart",
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Open Cachegrind Report File",
            "hide": true,
            "command": "code",
            "args": [
                "-r",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.cachegrind.valgrind"
            ],
            "dependsOrder": "sequence",
            "dependsOn": [
                "Valgrind: Annotate Cachegrind Report"
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Annotate Cachegrind Report",
            "hide": true,
            "linux": {
                "command": "bash",
                "args": [
                    "-c",
                    "cg_annotate ${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.cachegrind $(echo $(find ${workspaceFolder} -name '*.cpp' -o -name '*.c' -o -name '*.cc' -o -name '*.h' -o -name '*.hpp')) > ${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.cachegrind.valgrind"
                ]
            },
            "dependsOrder": "sequence",
            "dependsOn": "Valgrind: Make Cachegrind Report",
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Convert Callgrind Report To Chart",
            "hide": true,
            "command": "gprof2dot",
            "args": [
                "--format=callgrind",
                "--output=${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind.dot",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind"
            ],
            "dependsOrder": "sequence",
            "dependsOn": "Valgrind: Make Callgrind Report",
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Make Memcheck Report",
            "hide": true,
            "command": "valgrind",
            "options": {
                "cwd": "${workspaceFolder}/build/${command:cmake.buildType}"
            },
            "args": [
                "--tool=memcheck",
                "--leak-check=full",
                "--show-leak-kinds=all",
                "--track-origins=yes",
                "--verbose",
                "--log-file=${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.valgrind",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}"
            ],
            "dependsOrder": "sequence",
            "dependsOn": [
                "Valgrind: Clean Memcheck",
                "CMake: Build"
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Make Callgrind Report",
            "hide": true,
            "command": "valgrind",
            "options": {
                "cwd": "${workspaceFolder}/build/${command:cmake.buildType}"
            },
            "args": [
                "--tool=callgrind",
                "--dump-instr=yes",
                "--collect-jumps=yes",
                "--callgrind-out-file=${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}"
            ],
            "dependsOrder": "sequence",
            "dependsOn": [
                "Valgrind: Clean Callgrind",
                "CMake: Build"
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Make Cachegrind Report",
            "hide": true,
            "command": "valgrind",
            "options": {
                "cwd": "${workspaceFolder}/build/${command:cmake.buildType}"
            },
            "args": [
                "--tool=cachegrind",
                "--cachegrind-out-file=${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.cachegrind",
                "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}"
            ],
            "dependsOrder": "sequence",
            "dependsOn": [
                "Valgrind: Clean Cachegrind",
                "CMake: Build"
            ],
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Clean Memcheck",
            "hide": true,
            "linux": {
                "command": "rm",
                "args": [
                    "-f",
                    "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.valgrind"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Clean CallGrind",
            "hide": true,
            "linux": {
                "command": "rm",
                "args": [
                    "-f",
                    "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind",
                    "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind.dot",
                    "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.callgrind.svg"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "Valgrind: Clean Cachegrind",
            "hide": true,
            "linux": {
                "command": "rm",
                "args": [
                    "-f",
                    "${workspaceFolder}/build/${command:cmake.buildType}/${workspaceFolderBasename}.cachegrind.valgrind"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Wait for Report File",
            "hide": true,
            "linux": {
                "command": "sleep",
                "args": [
                    "0.15s"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Focus on First Group",
            "hide": true,
            "command": "${command:workbench.action.focusFirstEditorGroup}",
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Toggle Terminal Twice",
            "hide": true,
            "command": "${command:workbench.action.terminal.toggleTerminal}",
            "dependsOn": "VSCode Utility: Toggle Terminal",
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Toggle Terminal",
            "hide": true,
            "command": "${command:workbench.action.terminal.toggleTerminal}",
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: If build Folder Exists",
            "hide": true,
            "type": "shell",
            "linux": {
                "command": "bash",
                "args": [
                    "-c",
                    "if [ -d \"${workspaceFolder}/build\" ] ; then exit 0 ; fi ; exit 1"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: If build Folder is NOT Exists",
            "hide": true,
            "type": "shell",
            "linux": {
                "command": "bash",
                "args": [
                    "-c",
                    "if [ -d \"${workspaceFolder}/build\" ] ; then exit 1 ; fi ; exit 0"
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Scroll at the First Line",
            "hide": true,
            "command": "${command:cursorTop}",
            "problemMatcher": []
        },
        {
            "label": "VSCode Utility: Scroll at the Last Line",
            "hide": true,
            "command": "${command:cursorBottom}",
            "problemMatcher": []
        }
    ]
}
